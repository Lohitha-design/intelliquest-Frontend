{"ast":null,"code":"import{useEffect,useState}from'react';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{useNavigate}from'react-router-dom';// ‚úÖ import navigate\nimport'./Performance.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Performance(){const[chartData,setChartData]=useState([]);const[strengths,setStrengths]=useState([]);const[improvements,setImprovements]=useState([]);const navigate=useNavigate();// ‚úÖ hook for navigation\nuseEffect(()=>{const fetchPerformance=async()=>{try{const res=await fetch('http://localhost:5000/api/performance/123');// Replace with actual user ID\nconst data=await res.json();// Merge sessions and skills by date\nconst combinedMap=new Map();data.sessions.forEach(session=>{const key=session.date;combinedMap.set(key,{date:key,avgRelevance:session.avgRelevance});});if(data.skills){data.skills.forEach(skill=>{const key=skill.date;const existing=combinedMap.get(key)||{date:key};existing.skillScore=skill.score;combinedMap.set(key,existing);});}const mergedData=Array.from(combinedMap.values()).sort((a,b)=>new Date(a.date)-new Date(b.date));setChartData(mergedData);setStrengths(data.strengths||[]);setImprovements(data.improvements||[]);}catch(err){console.error('Error fetching performance:',err);}};fetchPerformance();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"performance-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCC8 Your Growth Over Time\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:chartData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{domain:[0,100]}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"avgRelevance\",stroke:\"#00BFA6\",name:\"Interview Relevance\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"skillScore\",stroke:\"#FF6F61\",name:\"Skill Test Score\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2705 Strengths\"}),/*#__PURE__*/_jsx(\"ul\",{children:strengths.map((s,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDFE2 \",s]},i))}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Areas to Improve\"}),/*#__PURE__*/_jsx(\"ul\",{children:improvements.map((i,j)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDD34 \",i]},j))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"dashboard-button\",onClick:()=>navigate('/dashboard'),children:\"Back to Dashboard\"})]});}export default Performance;","map":{"version":3,"names":["useEffect","useState","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","useNavigate","jsx","_jsx","jsxs","_jsxs","Performance","chartData","setChartData","strengths","setStrengths","improvements","setImprovements","navigate","fetchPerformance","res","fetch","data","json","combinedMap","Map","sessions","forEach","session","key","date","set","avgRelevance","skills","skill","existing","get","skillScore","score","mergedData","Array","from","values","sort","a","b","Date","err","console","error","className","children","width","height","strokeDasharray","dataKey","domain","type","stroke","name","map","s","i","j","onClick"],"sources":["C:/Mini Project/client/src/pages/Performance.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\nimport { useNavigate } from 'react-router-dom';   // ‚úÖ import navigate\r\nimport './Performance.css';\r\n\r\nfunction Performance() {\r\n  const [chartData, setChartData] = useState([]);\r\n  const [strengths, setStrengths] = useState([]);\r\n  const [improvements, setImprovements] = useState([]);\r\n  const navigate = useNavigate();   // ‚úÖ hook for navigation\r\n\r\n  useEffect(() => {\r\n    const fetchPerformance = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:5000/api/performance/123'); // Replace with actual user ID\r\n        const data = await res.json();\r\n\r\n        // Merge sessions and skills by date\r\n        const combinedMap = new Map();\r\n\r\n        data.sessions.forEach(session => {\r\n          const key = session.date;\r\n          combinedMap.set(key, {\r\n            date: key,\r\n            avgRelevance: session.avgRelevance\r\n          });\r\n        });\r\n\r\n        if (data.skills) {\r\n          data.skills.forEach(skill => {\r\n            const key = skill.date;\r\n            const existing = combinedMap.get(key) || { date: key };\r\n            existing.skillScore = skill.score;\r\n            combinedMap.set(key, existing);\r\n          });\r\n        }\r\n\r\n        const mergedData = Array.from(combinedMap.values()).sort(\r\n          (a, b) => new Date(a.date) - new Date(b.date)\r\n        );\r\n\r\n        setChartData(mergedData);\r\n        setStrengths(data.strengths || []);\r\n        setImprovements(data.improvements || []);\r\n      } catch (err) {\r\n        console.error('Error fetching performance:', err);\r\n      }\r\n    };\r\n\r\n    fetchPerformance();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"performance-wrapper\">\r\n      <h2>üìà Your Growth Over Time</h2>\r\n\r\n      <ResponsiveContainer width=\"100%\" height={300}>\r\n        <LineChart data={chartData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"date\" />\r\n          <YAxis domain={[0, 100]} />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line\r\n            type=\"monotone\"\r\n            dataKey=\"avgRelevance\"\r\n            stroke=\"#00BFA6\"\r\n            name=\"Interview Relevance\"\r\n          />\r\n          <Line\r\n            type=\"monotone\"\r\n            dataKey=\"skillScore\"\r\n            stroke=\"#FF6F61\"\r\n            name=\"Skill Test Score\"\r\n          />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n\r\n      <div className=\"summary-section\">\r\n        <h3>‚úÖ Strengths</h3>\r\n        <ul>\r\n          {strengths.map((s, i) => (\r\n            <li key={i}>üü¢ {s}</li>\r\n          ))}\r\n        </ul>\r\n\r\n        <h3>‚ö†Ô∏è Areas to Improve</h3>\r\n        <ul>\r\n          {improvements.map((i, j) => (\r\n            <li key={j}>üî¥ {i}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      {/* ‚úÖ Back to Dashboard button */}\r\n      <button className=\"dashboard-button\" onClick={() => navigate('/dashboard')}>\r\n        Back to Dashboard\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Performance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}