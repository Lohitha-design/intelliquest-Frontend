{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './InterviewSession.css';\nfunction InterviewSession() {\n  _s();\n  const query = new URLSearchParams(useLocation().search);\n  const initialRole = query.get('role');\n  const navigate = useNavigate();\n  const [role, setRole] = useState(initialRole || '');\n  const [questions, setQuestions] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [userAnswer, setUserAnswer] = useState('');\n  const [relevance, setRelevance] = useState(null);\n  const [responses, setResponses] = useState([]);\n  const [sessionComplete, setSessionComplete] = useState(false);\n  const [startSession, setStartSession] = useState(false);\n  const roles = ['Data Analyst', 'ML Engineer', 'Gen AI Engineer', 'Frontend Developer', 'Backend Developer', 'Cybersecurity Analyst'];\n  useEffect(() => {\n    if (!role || !startSession) return;\n    const fetchQuestions = async () => {\n      try {\n        const res = await fetch(`http://localhost:5000/api/interview/${role}`);\n        const data = await res.json();\n        setQuestions(data);\n      } catch (err) {\n        console.error('Error fetching interview questions:', err);\n      }\n    };\n    fetchQuestions();\n  }, [role, startSession]);\n  const calculateRelevance = (user, correct) => {\n    const userWords = user.toLowerCase().split(/\\W+/);\n    const correctWords = correct.toLowerCase().split(/\\W+/);\n    const matchCount = userWords.filter(word => correctWords.includes(word)).length;\n    return Math.round(matchCount / correctWords.length * 100);\n  };\n  const handleSubmit = () => {\n    const currentQuestion = questions[currentIndex];\n    const relevanceScore = calculateRelevance(userAnswer, currentQuestion.answer);\n    const newResponse = {\n      role,\n      question: currentQuestion.question,\n      userAnswer,\n      correctAnswer: currentQuestion.answer,\n      relevance: relevanceScore\n    };\n    const updatedResponses = [...responses, newResponse];\n    setResponses(updatedResponses);\n    localStorage.setItem('interviewResponses', JSON.stringify(updatedResponses));\n    setRelevance(relevanceScore);\n    setUserAnswer('');\n    if (currentIndex < questions.length - 1) {\n      setTimeout(() => {\n        setCurrentIndex(prev => prev + 1);\n        setRelevance(null);\n      }, 2000);\n    } else {\n      setSessionComplete(true);\n    }\n  };\n  useEffect(() => {\n    if (sessionComplete && responses.length > 0) {\n      fetch('http://localhost:5000/api/performance', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          role,\n          responses\n        })\n      }).then(res => res.json()).then(data => console.log('Responses saved:', data)).catch(err => console.error('Save error:', err));\n    }\n  }, [sessionComplete, responses, role]);\n  const handleRoleSelect = e => {\n    setRole(e.target.value);\n  };\n  const handleStartInterview = () => {\n    navigate(`/interview?role=${encodeURIComponent(role)}`);\n    setStartSession(true);\n  };\n}\n_s(InterviewSession, \"A+uBF0ju9HfaAsV8ZW8iYdY2AM0=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = InterviewSession;\nexport default InterviewSession;\nvar _c;\n$RefreshReg$(_c, \"InterviewSession\");","map":{"version":3,"names":["useEffect","useState","useLocation","useNavigate","InterviewSession","_s","query","URLSearchParams","search","initialRole","get","navigate","role","setRole","questions","setQuestions","currentIndex","setCurrentIndex","userAnswer","setUserAnswer","relevance","setRelevance","responses","setResponses","sessionComplete","setSessionComplete","startSession","setStartSession","roles","fetchQuestions","res","fetch","data","json","err","console","error","calculateRelevance","user","correct","userWords","toLowerCase","split","correctWords","matchCount","filter","word","includes","length","Math","round","handleSubmit","currentQuestion","relevanceScore","answer","newResponse","question","correctAnswer","updatedResponses","localStorage","setItem","JSON","stringify","setTimeout","prev","method","headers","body","then","log","catch","handleRoleSelect","e","target","value","handleStartInterview","encodeURIComponent","_c","$RefreshReg$"],"sources":["C:/Mini Project/client/src/pages/InterviewSession.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport './InterviewSession.css';\r\n\r\nfunction InterviewSession() {\r\n  const query = new URLSearchParams(useLocation().search);\r\n  const initialRole = query.get('role');\r\n  const navigate = useNavigate();\r\n\r\n  const [role, setRole] = useState(initialRole || '');\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [userAnswer, setUserAnswer] = useState('');\r\n  const [relevance, setRelevance] = useState(null);\r\n  const [responses, setResponses] = useState([]);\r\n  const [sessionComplete, setSessionComplete] = useState(false);\r\n  const [startSession, setStartSession] = useState(false);\r\n\r\n  const roles = [\r\n    'Data Analyst',\r\n    'ML Engineer',\r\n    'Gen AI Engineer',\r\n    'Frontend Developer',\r\n    'Backend Developer',\r\n    'Cybersecurity Analyst'\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (!role || !startSession) return;\r\n\r\n    const fetchQuestions = async () => {\r\n      try {\r\n        const res = await fetch(`http://localhost:5000/api/interview/${role}`);\r\n        const data = await res.json();\r\n        setQuestions(data);\r\n      } catch (err) {\r\n        console.error('Error fetching interview questions:', err);\r\n      }\r\n    };\r\n\r\n    fetchQuestions();\r\n  }, [role, startSession]);\r\n\r\n  const calculateRelevance = (user, correct) => {\r\n    const userWords = user.toLowerCase().split(/\\W+/);\r\n    const correctWords = correct.toLowerCase().split(/\\W+/);\r\n    const matchCount = userWords.filter(word => correctWords.includes(word)).length;\r\n    return Math.round((matchCount / correctWords.length) * 100);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const currentQuestion = questions[currentIndex];\r\n    const relevanceScore = calculateRelevance(userAnswer, currentQuestion.answer);\r\n\r\n    const newResponse = {\r\n      role,\r\n      question: currentQuestion.question,\r\n      userAnswer,\r\n      correctAnswer: currentQuestion.answer,\r\n      relevance: relevanceScore\r\n    };\r\n\r\n    const updatedResponses = [...responses, newResponse];\r\n    setResponses(updatedResponses);\r\n    localStorage.setItem('interviewResponses', JSON.stringify(updatedResponses));\r\n\r\n    setRelevance(relevanceScore);\r\n    setUserAnswer('');\r\n\r\n    if (currentIndex < questions.length - 1) {\r\n      setTimeout(() => {\r\n        setCurrentIndex(prev => prev + 1);\r\n        setRelevance(null);\r\n      }, 2000);\r\n    } else {\r\n      setSessionComplete(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (sessionComplete && responses.length > 0) {\r\n      fetch('http://localhost:5000/api/performance', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ role, responses })\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => console.log('Responses saved:', data))\r\n        .catch(err => console.error('Save error:', err));\r\n    }\r\n  }, [sessionComplete, responses, role]);\r\n\r\n  const handleRoleSelect = e => {\r\n    setRole(e.target.value);\r\n  };\r\n\r\n  const handleStartInterview = () => {\r\n    navigate(`/interview?role=${encodeURIComponent(role)}`);\r\n    setStartSession(true);\r\n  };\r\n\r\n \r\n}\r\n\r\nexport default InterviewSession;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}